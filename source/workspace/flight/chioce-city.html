<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta content="yes" name="apple-mobile-web-app-capable">
    <meta content="telephone=no,email=no" name="format-detection">
    <link rel="stylesheet" href="./public/styles/style.css">
    <title>选择城市</title>
</head>
<body>
    <div class="app">
        <div class="chioce-search-toolbar">
            <i class="arrow left"></i>
            <div class="chioce-search-input-wrap">
                <input type="text" id="chioce-search-city-input" placeholder="北京／bj／beijing">
            </div>
        </div>
        
        <div class="chioce-tab">
            <div class="chioce-tab-head">
                <div class="chioce-tab-head-item active">
                    国内
                </div>

                <div class="chioce-tab-head-item">
                    国际／港澳台
                </div>
            </div>

            <div class="chioce-tab-content">
                <div class="chioce-tab-content-history">
                    <h4>历史</h4>
                    <button class="active">
                        <i></i>北京
                    </button>
                    <button>上海</button>
                    <button>台北</button>
                    <button>香港</button>
                    <button>海口</button>
                </div>

                <div class="chioce-tab-content-hot">
                    <h4>热门</h4>
                    <button class="active">北京</button>
                    <button>上海</button>
                    <button>广州</button>
                    <button>深圳</button>
                    <button>成都</button>
                    <button>乌鲁木齐</button>
                    <button>西安</button>
                </div>

                <div class="chioce-tab-scroll-borad">
                    <h4>历史热门</h4>
                    <span>A</span>
                    <span>B</span>
                    <span>C</span>
                    <span>D</span>
                    <span>E</span>
                    <span>F</span>
                    <span>G</span>
                    <span>H</span>
                    <span>I</span>
                    <span>J</span>
                    <span>K</span>
                    <span>M</span>
                    <span>N</span>
                    <span>P</span>
                    <span>Q</span>
                    <span>R</span>
                    <span>S</span>
                    <span>T</span>
                    <span>W</span>
                    <span>X</span>
                    <span>Y</span>
                    <span>Z</span>
                </div>
                
                <div class="chioce-tab-content-list" style="display: block;">
                    <dl>
                        <dt>A</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>B</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>C</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>D</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>E</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>F</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>


                    <dl>
                        <dt>G</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>H</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>I</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>
                    <dl>
                        <dt>J</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>K</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>M</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>N</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>


                    <dl>
                        <dt>P</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>Q</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>R</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>S</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>T</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>W</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>X</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>Y</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>

                    <dl>
                        <dt>Z</dt>
                        <dd>澳门</dd>
                        <dd>阿里</dd>
                        <dd>阿克苏</dd>
                        <dd>安康</dd>
                        <dd>阿拉善左旗</dd>
                    </dl>
                </div>
                
                <div class="chioce-tab-content-list"></div>

            </div>
        </div>

        <div id="pan-text"></div>
        
        <div class="chioce-search-item-box" id="chioce-search-item-box">
            <ul>
                <li>南宁</li>
                <li>南通</li>
                <li>南京</li>
                <li>南昌</li>
                <li>南阳</li>
                <li>南充</li>
                <li>济南</li>
            </ul>
        </div>

    </div>
</body>
<script type="text/javascript" src="./public/javascript/jquery.js"></script>
<script type="text/javascript">
    $(function(){
        var _scrollBorad = $(".chioce-tab-scroll-borad span")
        var _panText = $("#pan-text")
        var _topHeight = $(".chioce-search-toolbar").height() + $(".chioce-tab-head").height() + $(".chioce-tab-content-history").height() + $(".chioce-tab-content-hot").height()
        
        //切换 Tab 
        var _tabHead = $(".chioce-tab-head .chioce-tab-head-item")
        var _tabItem = $(".chioce-tab-content .chioce-tab-content-list")

        _tabHead.on("click", function(){
            var _index = $(this).index()
            $(this).addClass('active').siblings().removeClass('active')
            _tabItem.eq(_index).fadeIn('fast').siblings(".chioce-tab-content-list").fadeOut('fast')
        })



        $(".chioce-tab-scroll-borad span").on("click", function(e){
            $(document).on("touchmove", function(f){ f.preventDefault() })
            
            _panText.show()
            _panText.text(e.currentTarget.innerHTML)
            $("html,body").animate({"scrollTop": $(".chioce-tab-content-list dl").eq($(this).index()).position().top-_topHeight},200)
        })

        $(".chioce-tab-scroll-borad span").on("touchmove", function(e){
            $(document).on("touchmove", function(f){ f.preventDefault() })
            
            //_panText.show()
            //_panText.text(e.currentTarget.innerHTML)
            //$("html,body").animate({"scrollTop": $(".chioce-tab-content-list dl").eq($(this).index()).position().top-_topHeight},200)
        })


        $(".chioce-tab-scroll-borad span").on("touchend", function(e){
            $(document).off("touchmove")
            _panText.show()
            //console.log(e.currentTarget.innerHTML)
            _panText.text(e.currentTarget.innerHTML)
            _panText.text(e.currentTarget.innerHTML)
            $("html,body").animate({"scrollTop": $(".chioce-tab-content-list dl").eq($(this).index()).position().top-_topHeight},200, function(){
                _panText.hide()
            })
        })


        var $_chioceSearchCityBox = $("#chioce-search-item-box")
        //搜索
        $("#chioce-search-city-input").on("focus", function(){
            var _screenHeight = $(".app").height() > $(window).height() ? $(".app").height() : $(window).height()
            $_chioceSearchCityBox.css({
                height: _screenHeight+"px"
            })

            $_chioceSearchCityBox.fadeIn('fast')


        })

        $(".chioce-search-item-box ul li").on("click", function(){
            var $_city = $(this).text()
            $("#chioce-search-city-input").val($_city)
            $_chioceSearchCityBox.fadeOut('fast')
        })

    })
</script>
</html>